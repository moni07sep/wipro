<nav class="  navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
  <a class="navbar-brand" href="#"></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="container collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Dashborad <span class="sr-only">(current)</span></a>
      </li>
    </ul>
    <div class="my-2 my-sm-0 p-1">
      <button type="button" (click)="logout()" class="link p-2 btn btn-secondary">Logout</button>
    </div>
  </div>
</nav>

<div class="container mx-auto">
  <ng-template #content let-modal>
    <div class="modal-header" >
      <h4 class="modal-title" id="modal-basic-title">Add Employee Details</h4>
      <button type="button" id="closeBtn" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="userForm" (ngSubmit)="Save(userForm.value)">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" placeholder="Enter Name"
           formControlName="name"
           [class.is-invalid]="!userForm.get('name').valid && userForm.get('name').touched"
           [class.is-valid]="userForm.get('name').valid"
          >
          <div class="alert alert-danger"
            *ngIf="userForm.get('name').hasError('required')
              && userForm.get('name').touched">
              Name is required*
        </div> 
        </div>
        <div class="form-group">
          <label for="dob">DOB</label>
          <input
          formControlName="dob"
            class="form-control"
            placeholder="Select DOB"
            name="dob"
            (click)="s.toggle()"
            ngbDatepicker
            #s="ngbDatepicker"
            autocomplete="off"
            [class.is-invalid]="!userForm.get('dob').valid && userForm.get('dob').touched"
              [class.is-valid]="userForm.get('dob').valid"
          />
          <div class="alert alert-danger"
          *ngIf="userForm.get('dob').hasError('required')
              && userForm.get('dob').touched">
              DOB is required*
          </div>
        </div>
        <div class="form-group">
          <label for="mobileNo">Mobile No</label>
          <input type="text" class="form-control" placeholder="Enter Mobile No"
              formControlName="mobileNo"
              [class.is-invalid]="!userForm.get('mobileNo').valid && userForm.get('mobileNo').touched"
              [class.is-valid]="userForm.get('mobileNo').valid"
          >
          <div class="alert alert-danger"
          *ngIf="userForm.get('mobileNo').hasError('required')
              && userForm.get('mobileNo').touched">
              Mobile No is required*
          </div>
          <div class="alert alert-danger"
          *ngIf="userForm.get('mobileNo').hasError('pattern')
              && userForm.get('mobileNo').touched">
              Mobile No is Invalid
          </div>
        </div>
        <div class="form-group">
          <label for="doj">DOJ</label>
          <input
          formControlName="doj"
            class="form-control"
            placeholder="Select DOJ"
            name="doj"
            (click)="s1.toggle()"
            ngbDatepicker
            #s1="ngbDatepicker"
            autocomplete="off"
            [class.is-invalid]="!userForm.get('doj').valid && userForm.get('doj').touched"
              [class.is-valid]="userForm.get('doj').valid"
          />
          <div class="alert alert-danger"
          *ngIf="userForm.get('doj').hasError('required')
              && userForm.get('doj').touched">
              DOJ is required*
          </div>
        </div>
        <div class="form-group">
          <label for="experienceYear">No of Experience Year</label>
          <input type="text" class="form-control" placeholder="Enter No of Experience Year"
           formControlName="experienceYear"
           [class.is-invalid]="!userForm.get('experienceYear').valid && userForm.get('experienceYear').touched"
           [class.is-valid]="userForm.get('experienceYear').valid"
          >
          <div class="alert alert-danger"
            *ngIf="userForm.get('experienceYear').hasError('required')
              && userForm.get('experienceYear').touched">
              No of Experience Year is required*
          </div>
          <div class="alert alert-danger"
          *ngIf="userForm.get('experienceYear').hasError('pattern')
              && userForm.get('experienceYear').touched">
              Experience Year is Invalid
          </div> 
        </div>
        <div class="form-group">
          <label for="email">Email Id</label>
          <input type="text" class="form-control" placeholder="Enter Email"
           formControlName="email"
           [class.is-invalid]="!userForm.get('email').valid && userForm.get('email').touched"
           [class.is-valid]="userForm.get('email').valid"
          >
          <div class="alert alert-danger"
          *ngIf="userForm.get('email').hasError('required')
            && userForm.get('email').touched">
            Email is required*
          </div>
          <div class="alert alert-danger"
          *ngIf="userForm.get('email').hasError('pattern')
            && userForm.get('email').touched">
            Email is Invalid
          </div>
        </div> 
        <div class="form-group">
          <label for="projectName">Project Name</label>
          <input type="text" class="form-control" placeholder="Enter Project Name"
           formControlName="projectName"
           [class.is-invalid]="!userForm.get('projectName').valid && userForm.get('projectName').touched"
           [class.is-valid]="userForm.get('projectName').valid"
          >
          <div class="alert alert-danger"
            *ngIf="userForm.get('projectName').hasError('required')
              && userForm.get('projectName').touched">
              Project Name is required*
        </div> 
        </div>
        <div class="form-group">
          <label for="businessUnit">Business Unit</label>
          <input type="text" class="form-control" placeholder="Enter Business Unit"
           formControlName="businessUnit"
           [class.is-invalid]="!userForm.get('businessUnit').valid && userForm.get('businessUnit').touched"
           [class.is-valid]="userForm.get('businessUnit').valid"
          >
          <div class="alert alert-danger"
            *ngIf="userForm.get('businessUnit').hasError('required')
              && userForm.get('businessUnit').touched">
              Business Unit is required*
        </div> 
        </div>
        <div class="form-group">
          <label for="projectManger">Project Manger</label>
          <input type="text" class="form-control" placeholder="Enter Project Manger"
           formControlName="projectManger"
           [class.is-invalid]="!userForm.get('projectManger').valid && userForm.get('projectManger').touched"
           [class.is-valid]="userForm.get('projectManger').valid"
          >
          <div class="alert alert-danger"
            *ngIf="userForm.get('projectManger').hasError('required')
              && userForm.get('projectManger').touched">
              Project Manger is required*
        </div> 
        </div>
        <div class="form-group">
          <label for="location">Location</label>
          <input type="text" class="form-control" placeholder="Enter Location"
           formControlName="location"
           [class.is-invalid]="!userForm.get('location').valid && userForm.get('location').touched"
           [class.is-valid]="userForm.get('location').valid"
          >
          <div class="alert alert-danger"
            *ngIf="userForm.get('location').hasError('required')
              && userForm.get('location').touched">
              Location is required*
        </div> 
        </div>
        <div class="modal-footer">
        <button type="submit" data-dismiss="modal"  class="btn btn-outline-dark" 
        [disabled]="!userForm.valid"
            >submit</button>
        </div>
      </form>
    </div>
    <!-- <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div> -->
  </ng-template> 

    <!-- html code for chart -->
    <div class="row">
      <div class="col-sm-6 p-3 rounded " >
        <div [chart]="chartBar"></div>
      </div>
      <div class="col-sm-6 p-3 rounded ">
        <div [chart]="chartPie"></div>
      </div>
      </div>
      <!-- html code for grid -->
      <div class="col-sm-12 table-responsive border border-primary p-2 rounded " style="border: 1px black; ">
        <div class="row">
          <div class="col-1">
            <button class="btn btn-secondary" (click)="open(content)">Add+</button>
          </div>
          <div class="col-1">
          <div>
            <select class=" btn btn-secondary" (change)="changeBusinessUnit($event.target.value)">
            <option value="">BusinessUnit All</option>
              <option  *ngFor="let emp of distinctEmployeeList" value="{{emp}}">{{emp}}	
              </option>	
            </select>
          </div>
        </div>
        <table class="table">
          <thead class="thead-dark">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Date of Birth</th>
                <th scope="col">Contact Number</th>
                <th scope="col">Date of Join</th>
                <th scope="col">No. of Years Experience</th>
                <th scope="col">Email Id</th>
                <th scope="col">Project Name</th>
                <th scope="col">Business Unit</th>
                <th scope="col">Project Manger</th>
                <th scope="col">Location</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody *ngFor="let employee of this.employeeList ; index as i">
              <tr>
                <th scope="row">{{i+1}}</th>
                <td>{{employee.name}}</td>
                <td>{{employee.dob}}</td>
                <td>{{employee.contactNo}}</td>
                <td>{{employee.doj}}</td>
                <td>{{employee.experienceYear}}</td>
                <td>{{employee.emailId}}</td>
                <td>{{employee.projectName}}</td>
                <td>{{employee.businessUnit}}</td>
                <td>{{employee.projectManger}}</td>
                <td>{{employee.location}}</td>
                <td><button type="button" id="{{employee._id}}" (click)="edit(employee._id)" class="btn btn-secondary">Edit</button></td>
              </tr>
            </tbody>
          </table>
      </div>
  </div>